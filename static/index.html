<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Cloud Gaming Neo</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="index.css?v=10">
</head>

<body>
    <div id="app-container">
        <!-- Header / Stats -->
        <header>
            <div class="brand">
                <span>NEO</span>STREAM
            </div>
            <div class="header-right">
                <div id="stats-panel" class="stats-panel">
                    <div id="stat-video-latency">Video Latency: -- ms</div>
                    <div id="stat-audio-latency">Audio Latency: -- ms</div>
                    <div id="stat-fps">FPS: --</div>
                    <div id="stat-bitrate">Bitrate: --</div>
                </div>
            </div>
        </header>

        <!-- Video Stream -->
        <main id="video-container">
            <video id="remoteVideo" autoplay playsinline></video>
        </main>

        <!-- New Gamepad Overlay -->
        <div class="gamepad-overlay">
            <!-- Top Controls (Shoulders & Menu) -->
            <div class="system-controls">
                <div class="shoulder-group left">
                    <button class="control-btn shoulder" data-key="LT">LT</button>
                    <button class="control-btn shoulder" data-key="LB">LB</button>
                </div>

                <div class="menu-group">
                    <button class="control-btn menu-btn" data-key="SELECT">
                        <svg viewBox="0 0 24 24">
                            <path
                                d="M11.6,3.4l-7,7c-0.5,0.5-0.5,1.4,0,1.9s1.4,0.5,1.9,0l7-7c0.5-0.5,0.5-1.4,0-1.9S12.1,2.9,11.6,3.4z M15.4,7.1l-7,7 c-0.5,0.5-0.5,1.4,0,1.9c0.5,0.5,1.4,0.5,1.9,0l7-7c0.5-0.5,0.5-1.4,0-1.9S15.9,6.6,15.4,7.1z" />
                        </svg>
                    </button>
                    <button class="control-btn home-btn" data-key="HOME"></button>
                    <button class="control-btn menu-btn" data-key="START">
                        <svg viewBox="0 0 24 24">
                            <path d="M8,5.14V19.14L19,12.14L8,5.14Z" />
                        </svg>
                    </button>
                </div>

                <div class="shoulder-group right">
                    <button class="control-btn shoulder" data-key="RB">RB</button>
                    <button class="control-btn shoulder" data-key="RT">RT</button>
                </div>
            </div>

            <!-- Left Combat Zone -->
            <div class="control-zone left">
                <div id="joystick-left" class="v-joystick" data-id="L">
                    <div class="v-joystick-base">
                        <div class="v-joystick-stick" data-key="L3"></div>
                    </div>
                </div>

                <div class="v-dpad">
                    <button class="d-btn up" data-key="DPAD_UP"></button>
                    <button class="d-btn right" data-key="DPAD_RIGHT"></button>
                    <button class="d-btn down" data-key="DPAD_DOWN"></button>
                    <button class="d-btn left" data-key="DPAD_LEFT"></button>
                    <div class="dpad-center"></div>
                </div>
            </div>

            <!-- Right Combat Zone -->
            <div class="control-zone right">
                <div class="v-abxy">
                    <button class="a-btn y" data-key="Y">Y</button>
                    <button class="a-btn x" data-key="X">X</button>
                    <button class="a-btn b" data-key="B">B</button>
                    <button class="a-btn a" data-key="A">A</button>
                </div>

                <div id="joystick-right" class="v-joystick" data-id="R">
                    <div class="v-joystick-base">
                        <div class="v-joystick-stick" data-key="R3"></div>
                    </div>
                </div>
            </div>

            <!-- Draggable System Buttons -->
            <button id="fullscreen-btn" class="icon-btn sys-drag" title="Tela Cheia">
                <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                    <path d="M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17H7V14H5V19H10V17Z" />
                </svg>
            </button>
            <button id="quality-btn" class="icon-btn sys-drag" title="Qualidade: 1080p">
                <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                    <path
                        d="M19,12H22L18,8L14,12H17V16H14L18,20L22,16H19V12M9,4V7H14V9H9V12H14V14H9V20H7V14H2V12H7V9H2V7H7V4H9Z" />
                </svg>
                <span id="quality-text">1080p</span>
            </button>
            <button id="settings-btn" class="icon-btn sys-drag" title="Configura√ß√µes">
                <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                    <path
                        d="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z" />
                </svg>
            </button>
        </div>

        <!-- Game Library Overlay -->
        <div id="library-overlay">
            <div class="library-container">
                <div class="library-header">
                    <h1 class="library-title">
                        <span class="neon-text">BIBLIOTECA</span> DE JOGOS
                    </h1>
                    <div class="library-search">
                        <input type="text" id="search-input" placeholder="Buscar jogos..." />
                        <div class="platform-filter">
                            <button class="filter-btn active" data-platform="all">Todos</button>
                            <button class="filter-btn" data-platform="Steam">Steam</button>
                            <button class="filter-btn" data-platform="Epic Games">Epic Games</button>
                        </div>
                    </div>
                </div>

                <div id="games-grid" class="games-grid">
                    <div class="loader-container">
                        <div class="loader"></div>
                        <p>Detectando jogos instalados...</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Stream Status Overlay -->
        <div id="status-overlay" class="hidden">
            <div class="ui-panel start-card">
                <h1>Pronto para Jogar?</h1>
                <p style="color: var(--text-secondary); margin-top: 10px;">Experimente streaming de alta performance
                    direto no seu navegador.</p>
                <div id="loader" class="loader" style="margin: 20px auto;"></div>
                <div id="status-msg" style="margin: 15px 0; font-size: 0.9rem; color: var(--accent-color);"></div>
                <button id="startBtn" class="start-btn">INICIAR STREAM</button>
            </div>
        </div>

        <!-- Customization Panel -->
        <div id="customize-overlay" class="hidden">
            <div class="customize-panel">
                <div class="customize-header">
                    <h2>‚öôÔ∏è Configura√ß√µes</h2>
                    <button id="close-customize" class="icon-btn">
                        <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                            <path
                                d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" />
                        </svg>
                    </button>
                </div>

                <div class="customize-content">
                    <div class="customize-section">
                        <h3>üéØ Modo de Edi√ß√£o</h3>
                        <p class="customize-desc">Ative para mover os controles arrastando</p>
                        <div class="setting-group" style="display: flex; flex-direction: column; gap: 10px;">
                            <label class="toggle-switch">
                                <input type="checkbox" id="edit-mode-toggle">
                                <span class="toggle-slider"></span>
                                <span class="toggle-label">Mover Bot√µes de Jogo</span>
                            </label>

                            <label class="toggle-switch">
                                <input type="checkbox" id="move-system-toggle">
                                <span class="toggle-slider"></span>
                                <span class="toggle-label">Mover Bot√µes de Sistema</span>
                            </label>
                        </div>
                    </div>

                    <div class="customize-section">
                        <h3>üìä Estat√≠sticas</h3>
                        <p class="customize-desc">Gerencie o painel de status</p>
                        <div class="setting-group" style="display: flex; flex-direction: column; gap: 10px;">
                            <label class="toggle-switch">
                                <input type="checkbox" id="show-stats-toggle" checked>
                                <span class="toggle-slider"></span>
                                <span class="toggle-label">Exibir Painel</span>
                            </label>

                            <label class="toggle-switch">
                                <input type="checkbox" id="move-stats-toggle">
                                <span class="toggle-slider"></span>
                                <span class="toggle-label">Habilitar Movimento</span>
                            </label>
                        </div>
                    </div>

                    <div class="customize-section">
                        <h3>üîä √Åudio do Jogo</h3>
                        <div class="setting-group"
                            style="display: flex; flex-direction: column; gap: 15px; margin-top: 10px;">
                            <label class="toggle-switch">
                                <input type="checkbox" id="audio-mute-toggle" checked>
                                <span class="toggle-slider"></span>
                                <span class="toggle-label">√Åudio Ativado</span>
                            </label>

                            <div class="volume-control">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                    <span class="sub-label"
                                        style="font-size: 0.9rem; color: var(--text-secondary);">Volume</span>
                                    <span id="volume-value" style="font-size: 0.9rem; font-weight: bold;">100%</span>
                                </div>
                                <input type="range" id="volume-slider" min="0" max="1" step="0.05" value="1"
                                    style="width: 100%; accent-color: var(--primary-color);">
                            </div>
                        </div>
                    </div>

                    <div class="customize-section">
                        <h3>üî¥ Grava√ß√£o</h3>
                        <p class="customize-desc">Grave sua gameplay localmente</p>
                        <div class="setting-group" style="margin-top: 10px;">
                            <button id="record-btn" class="action-btn"
                                style="width: 100%; background: #ef4444; border-color: #ef4444;">
                                <span class="btn-text">Iniciar Grava√ß√£o</span>
                            </button>
                            <div id="recording-indicator" class="hidden"
                                style="margin-top: 10px; display: flex; align-items: center; justify-content: center; gap: 8px; color: #ef4444; font-weight: bold;">
                                <div class="rec-dot"
                                    style="width: 10px; height: 10px; background: #ef4444; border-radius: 50%; animation: blink 1s infinite;">
                                </div>
                                <span>GRAVANDO: <span id="rec-timer">00:00</span></span>
                            </div>
                        </div>
                    </div>

                    <div class="customize-section">
                        <h3>üìè Tamanho dos Controles</h3>
                        <p class="customize-desc">Ajuste o tamanho geral dos bot√µes</p>
                        <div class="size-buttons">
                            <button class="size-btn" data-size="0.7">Pequeno</button>
                            <button class="size-btn active" data-size="1.0">M√©dio</button>
                            <button class="size-btn" data-size="1.3">Grande</button>
                        </div>
                    </div>

                    <div class="customize-section">
                        <h3>üì≥ Vibra√ß√£o</h3>
                        <p class="customize-desc">Feedback t√°til ao pressionar bot√µes</p>
                        <div id="vibration-status"
                            style="padding: 8px; margin-bottom: 10px; border-radius: 4px; font-size: 0.85rem; background: #334155; color: #94a3b8;">
                            üîç Verificando suporte...
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="vibration-toggle" checked>
                            <span class="toggle-slider"></span>
                            <span class="toggle-label">Ativar Vibra√ß√£o</span>
                        </label>
                        <button id="test-vibration-btn" class="size-btn" style="margin-top: 10px; width: 100%;">Testar
                            Vibra√ß√£o üì≥</button>
                    </div>

                    <div class="customize-section">
                        <h3>üîß A√ß√µes</h3>
                        <div class="action-buttons">
                            <button id="reset-controls" class="action-btn reset-btn">
                                <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor">
                                    <path
                                        d="M12,4C14.1,4 16.1,4.8 17.6,6.3C20.7,9.4 20.7,14.5 17.6,17.6C15.8,19.5 13.3,20.4 10.9,20.3V22L7,19L10.9,16V17.6C13.8,17.6 16.2,15.2 16.2,12.3C16.2,9.4 13.8,7 10.9,7C8,7 5.6,9.4 5.6,12.3H4C4,8.1 7.6,4 12,4Z" />
                                </svg>
                                Restaurar Padr√µes
                            </button>
                        </div>
                    </div>

                    <div class="customize-tip">
                        üí° <strong>Dica:</strong> Suas configura√ß√µes s√£o salvas automaticamente
                    </div>
                </div>
            </div>
        </div>
    </div>



    <script src="client.js?v=5"></script>
</body>

</html>